# 04-03

프로젝트 진행 전, 협업에 필요한 Git을 다시 정리하면서 리마인드 해보자

<br>

### Git 정리

작업 공간 폴더에서 Git Bash 창을 열고 `git init`을 입력하면, master가 추가된다.

이제 이 폴더에 파일을 추가하면, `git status`로 변경 상태를 파악할 수 있다.

#### Add & Commit

변경 사항을 올리기 위한 준비로는 `git add`를 사용한다.

- `git add 파일 이름` : 해당 파일만 올림
- `git add .` : 새로 변경된 모든 파일 올림

변경 내용을 확정하기 위해서는 `git commit`이 필요하다.

- `git commit` : 커밋 메시지를 입력할 수 있는 템플릿 vim 창이 나옴
- `git commit -m "메시지 내용"` : 메시지 내용에 입력한 값으로 커밋 진행

<br>

#### Branch

처음 프로젝트를 만들었을 때는 master 브랜치에서 시작하지만, Branch를 통해 가지치기를 할 수 있다.

실제로는 운영 브랜치와 개발 브랜치를 나누어서 작업하고, 프론트/백 등 기능 별로 브랜치를 나눈다.

- `git branch [브랜치명]` : 해당 브랜치명으로 브랜치 생성
- `git branch -a` or `git branch --list` : 현재 존재하는 브랜치 목록 확인
- `git checkout [브랜치명]` : 해당 브랜치명으로 작업환경 변경

브랜치는 모두 독립적으로 운영돼서, 다른 브랜치로 이동하면 그 전에 있던 브랜치에서 개발했던 파일이 보이지 않게 된다.

<br>

#### Merge

- `git merge [브랜치명]` : '현재' 브랜치에서 브랜치명의 변경사항을 병합

> 헷갈리므로 조심하기. 현재 위치한 브랜치에서 '브랜치명'의 변경된 것을 가져와 병합 하는 것이다.

##### Merge Conflict

각자 브랜치에서 같은 파일을 수정하고 merge하면 충돌이 발생할 수 있다.

충돌 발생 시, 현재 브랜치의 상태가 `브랜치|MERGEING`으로 변경된다. 충돌을 해결하기 위한 임시 브랜치라고 생각하자. 유저가 충돌이 발생한 곳을 수정하여 변경하고 commit 하면 해결이 가능하다.

- `git diff` : 충돌 지점, 어떻게 변경됐는지 확인 가능

```
<<<<<<HEAD : 현재 브랜치의 표시

 [HEAD]의 코드

=========== : 현재 브랜치와 병합 브랜치의 구분선

 [병합 할 브랜치]의 코드

>>>>>>[브랜치 명] : 
```

수정 후, add와 commit을 진행하면 mergeing 상태에서 빠져나올 수 있을 것이다.

<br>

#### Pull, Fetch

원격 저장소와 로컬 작업내용이 다를 때, 내가 변경한 사항을 push하면 충돌이 발생한다.

즉, 변경 전에 원격 저장소의 내용을 먼저 로컬에 반영해야 이런 사항을 막을 수 있다.

- `git fetch` : 원격 저장소 변경사항(commit)을 로컬 저장소로 가져옴
- `git pull` : 원격 저장소 변경사항을 가져와 로컬에 병합

> 즉 `git pull` = `git fetch` + `git merge`라고 보면 된다

<br>

#### Fork, Clone, PR

- `git fork` : 다른 유저 원격저장소를 내 원격 저장소로 복사
- `git clone` : 원격 저장소를 로컬에 복사
- `pull request` : 저장소 간 merge 요청

