# 07-18

<br>

실무에서는 가급적 Getter는 열어두고, Setter는 필요한 경우에만 사용하자

Setter는 데이터의 변경점이 반영되기 때문에, 엔티티의 변경에 대한 추적하기가 힘들어진다. 따라서 엔티티 변경시에는 Setter 대신 변경 지점이 명확할 수 있도록 변경을 위한 비즈니스 메서드를 별도로 제공하자

<br>

엔티티의 식별자는 id, PK 컬럼명은 member_id를 사용한다.

<br>

객체는 변경 포인트가 두 군데지만, 테이블은 외래키 하나만 변경하면 된다. 둘 중에 하나만 주인의 개념으로 잡는 '연관관계의 주인'을 적용해야한다.

<br>

실무에서는 @ManyToMany를 사용하지 않아야 한다. 

중간 테이블에 컬럼을 더 추가할 수 없고, 세밀한 쿼리 실행이 불가능하기 때문에 실무에서 사용하기 힘들다. 따라서 중간 엔티티를 만들어 @ManyToOne, @OneToMany로 매핑해서 사용해야 한다.

즉, 다대다 매핑은 일대다, 다대일 매핑으로 풀어서 사용한다.

<br>

외래키를 꼭 걸어야하나? 시스템마다 다름. 실시간 트래픽이 중요하거나 정합성보다는 잘 서비스되도록 유연하게 하려면 외래키 빼고 인덱스만 잘 잡으면 된다. 하지만 데이터가 확실히 맞아야 하고 금전과 관련된 것이면 외래키를 잡아주는 것이 좋다.

<br>

